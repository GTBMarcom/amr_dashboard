<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>AGV/AMR ROI ëŒ€ì‹œë³´ë“œ</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<style>
.tab-btn.active { @apply bg-blue-600 text-white; }
.tab-btn { @apply px-4 py-2 rounded-lg cursor-pointer transition-all duration-200 hover:bg-blue-100; }
.model-card { @apply bg-white rounded-lg shadow p-3 flex flex-col items-center transition-transform transform; }
.model-card:hover { @apply scale-105 shadow-lg; }
.model-card.selected { @apply ring-4 ring-blue-400; }
.scrollbar-hide::-webkit-scrollbar { display:none; }
</style>
</head>
<body class="bg-[#f5f8fc] text-[#1f2937]">

<div class="flex flex-col md:flex-row h-screen">
  <aside class="w-full md:w-80 bg-white border-r p-4 flex-shrink-0">
    <h2 class="text-xl font-bold mb-4">ì¹´í…Œê³ ë¦¬ ì„ íƒ</h2>
    <div class="flex gap-2 mb-4">
      <button class="tab-btn active" data-cat="ì €ìƒí˜•">ì €ìƒí˜•</button>
      <button class="tab-btn" data-cat="ë¶„ë¥˜í˜•">ë¶„ë¥˜í˜•</button>
      <button class="tab-btn" data-cat="ìš´ë°˜í˜•">ìš´ë°˜í˜•</button>
      <button class="tab-btn" data-cat="ì§€ê²Œí˜•">ì§€ê²Œí˜•</button>
    </div>
    <div id="modelList" class="grid grid-cols-2 md:grid-cols-1 gap-4 overflow-y-auto scrollbar-hide h-[60vh]"></div>
  </aside>

  <main class="flex-1 p-6 overflow-y-auto">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-3xl font-bold">ROI ì‹œë®¬ë ˆì´í„° ğŸ“Š</h1>
      <button id="downloadPdf" class="bg-blue-600 text-white px-5 py-2 rounded-lg shadow hover:bg-blue-700 transition">PDF ì €ì¥</button>
    </div>

    <div class="grid md:grid-cols-3 gap-4 mb-8 bg-white p-4 rounded-lg shadow">
      <div><label class="block mb-1">1êµëŒ€ë‹¹ ì§ì›ìˆ˜</label><input id="employees" type="number" class="w-full p-2 border rounded" value="3"></div>
      <div><label class="block mb-1">ì‹œê°„ë‹¹ ì¸ê±´ë¹„ (ì›)</label><input id="hourlyCost" type="number" class="w-full p-2 border rounded" value="15000"></div>
      <div><label class="block mb-1">1êµëŒ€ ì‹œê°„</label><input id="shiftHours" type="number" class="w-full p-2 border rounded" value="8"></div>
      <div><label class="block mb-1">1ì¼ë‹¹ êµëŒ€ ìˆ˜</label><input id="shiftsPerDay" type="number" class="w-full p-2 border rounded" value="2"></div>
      <div><label class="block mb-1">ì£¼ê°„ ìš´ì˜ ì¼ìˆ˜</label><input id="daysPerWeek" type="number" class="w-full p-2 border rounded" value="5"></div>
      <div><label class="block mb-1">ì—°ê°„ ìƒì‚° ì£¼ê°„</label><input id="weeksPerYear" type="number" class="w-full p-2 border rounded" value="50"></div>
    </div>

    <div class="grid md:grid-cols-3 gap-4 mb-8">
      <div class="bg-white p-4 rounded-lg shadow text-center">
        <p class="text-gray-500">ROI</p><p class="text-2xl font-semibold text-green-600" id="roiValue">-</p>
      </div>
      <div class="bg-white p-4 rounded-lg shadow text-center">
        <p class="text-gray-500">íšŒìˆ˜ ê¸°ê°„</p><p class="text-2xl font-semibold text-blue-600" id="paybackPeriod">-</p>
      </div>
      <div class="bg-white p-4 rounded-lg shadow text-center">
        <p class="text-gray-500">ì´ ì ˆê°ì•¡</p><p class="text-2xl font-semibold text-indigo-600" id="totalSavings">-</p>
      </div>
    </div>

    <div class="space-y-8">
      <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-bold mb-2">ROI ì†ìµë¶„ê¸°ì  ë¶„ì„</h2>
        <canvas id="roiChart" height="300"></canvas>
      </div>
      <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-bold mb-2">ì›”ë³„ ì ˆê° ì¶”ì´</h2>
        <canvas id="savingsChart" height="300"></canvas>
      </div>
    </div>
  </main>
</div>

<!-- ìŠ¤í™ ëª¨ë‹¬ -->
<div id="specModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded-lg w-11/12 md:w-2/3 max-w-xl relative">
    <button class="absolute top-2 right-2 text-gray-600 hover:text-gray-900" onclick="closeModal()">âœ•</button>
    <h3 id="specTitle" class="text-2xl font-bold mb-4"></h3>
    <table id="specTable" class="w-full text-sm text-left">
    </table>
  </div>
</div>

<script>
const models = [
  // ì˜ˆì‹œ, ë‚˜ë¨¸ì§€ ëª¨ë¸ì€ ë™ì¼ êµ¬ì¡°ë¡œ ì¶”ê°€
  {name:"M6-300N",category:"ì €ìƒí˜•",cost:30000000,image:"..."},
  // ...
];
const specs = {
  "M6-300N": {
    "ìµœëŒ€ í•˜ì¤‘/ì°¨ëŸ‰ ë¬´ê²Œ": "300kg / 90kg",
    "ì£¼í–‰ ì†ë„": "ìµœëŒ€ 1.8m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  48V 26AH / 8h",
    "í¬ê¸°(mm)": "860 x 560 x 245"
  },
  "M6-600": {
    "ìµœëŒ€ í•˜ì¤‘/ì°¨ëŸ‰ ë¬´ê²Œ": "600kg / 175kg",
    "ì£¼í–‰ ì†ë„": "ìµœëŒ€ 1.8m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  48V 27AH / 6h",
    "í¬ê¸°(mm)": "1040 x 745 x 245"
  },
  "M6-800": {
    "ìµœëŒ€ í•˜ì¤‘/ì°¨ëŸ‰ ë¬´ê²Œ": "800kg / 160kg",
    "ì£¼í–‰ ì†ë„": "ìµœëŒ€ 2.2m/s (SLAMì œí’ˆ 1.8m/s)",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  48V 27AH / 8h",
    "í¬ê¸°(mm)": "980 x 680 x 245"
  },
  "T6-1200/1500": {
    "ìµœëŒ€ í•˜ì¤‘/ì°¨ëŸ‰ ë¬´ê²Œ": "1200-1500kg / 220kg",
    "ì£¼í–‰ ì†ë„": "ìµœëŒ€ 1.8m/s (SLAMì œí’ˆ 1.5m/s)",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  54AH / 12h",
    "í¬ê¸°(mm)": "1160 x 860 x 245"
  },
  "YAF10": {
    "ìµœëŒ€ í•˜ì¤‘/ìµœëŒ€ ë¦¬í”„íŒ…": "30000kg / 100mm",
    "ë‚´ë¹„ ë°©ì‹/êµ¬ë™ë°©ì‹": "SLAM / ë°”í€´(ì¢Œìš°ì „í›„Â·íšŒì „Â·ì›ìœ„ì¹˜íšŒì „)",
    "ë°°í„°ë¦¬/ë¡œë”í†µë¡œí­": "ë¦¬íŠ¬ì¸ì‚°ì²  24V 1500W / ìµœëŒ€ 70(m/min)",
    "í¬ê¸°(mm)": "1920 x 2025 x 700 (Customizable)"
  },
  "YAH10": {
    "ìµœëŒ€ í•˜ì¤‘": "ë³„ë„ ë¬¸ì˜",
    "êµ¬ë™ ë°©ì‹": "ë³„ë„ ë¬¸ì˜",
    "ë°°í„°ë¦¬": "ë³„ë„ ë¬¸ì˜",
    "í¬ê¸°(mm)": "ë³„ë„ ë¬¸ì˜"
  },
  "Z50-SF": {
    "ìµœëŒ€ í•˜ì¤‘/ì—…ë‹¤ìš´": "50kg Ã— 6 / (Max.) 4800mm",
    "ì£¼í–‰ ì†ë„": "ìµœëŒ€ 1.6m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  48V 54AH / 6h",
    "í¬ê¸°(mm)": "1560 x 800 x (Max.) 5300"
  },
  "Z50-S": {
    "ìµœëŒ€ í•˜ì¤‘/ì—…ë‹¤ìš´": "50kg Ã— 6 / (Max.) 4800mm",
    "ì£¼í–‰ ì†ë„": "ìµœëŒ€ 1.6m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  48V 54AH / 6h",
    "í¬ê¸°(mm)": "1560 x 800 x (Max.) 5300"
  },
  "F50A": {
    "ìµœëŒ€ í•˜ì¤‘/ì—…ë‹¤ìš´": "50kg / (Max.) 500mm",
    "ì£¼í–‰ ì†ë„": "ìµœëŒ€ 2.0m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  48V 12AH / 6h",
    "í¬ê¸°(mm)": "540 x 420 x 300"
  },
  "F152/F152-XL": {
    "ìµœëŒ€ í•˜ì¤‘": "15kg Ã— 2 / 35kg",
    "ì£¼í–‰ ì†ë„": "ìµœëŒ€ 2.0m/s",
    "ë°°í„°ë¦¬": "ë¦¬íŠ¬ì¸ì‚°ì²  48V 16.5AH",
    "í¬ê¸°(mm)": "760x480x(Min.)600(Max.)1000 / 970x630x(Min.)600(Max.)1000"
  },
  "ZS-H150": {
    "ìµœëŒ€ í•˜ì¤‘/ì œí’ˆ ì¤‘ëŸ‰": "1600kg / 350kg",
    "ì£¼í–‰ ì†ë„/ì ìš© í™˜ê²½": "ìµœëŒ€ 2.0m/s / (Min.) -10â„ƒ",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  / (Max.) 8h",
    "í¬ê¸°(mm)": "1076 x 940 x 150 (Customizable)"
  },
  "ZS-H120": {
    "ìµœëŒ€ í•˜ì¤‘/ì œí’ˆ ì¤‘ëŸ‰": "1300kg / 275kg",
    "ì£¼í–‰ ì†ë„/ì ìš© í™˜ê²½": "ìµœëŒ€ 2.0m/s / (Min.) -10â„ƒ",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  / (Max.) 9h",
    "í¬ê¸°(mm)": "1115 x 940 x 120 (Customizable)"
  },
  "ZS-L2000": {
    "ìµœëŒ€ í•˜ì¤‘/ì œí’ˆ ì¤‘ëŸ‰": "2000kg / 375kg",
    "ì£¼í–‰ ì†ë„/ì ìš© í™˜ê²½": "ìµœëŒ€ 1.0m/s / (Min.) -10â„ƒ",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  / (Max.) 8h",
    "í¬ê¸°(mm)": "1090 x 980 x 150"
  },
  "ZS ê³ ê°ìš”ì²­ìš©": {
    "ì ì¬ ì¤‘ëŸ‰": "Customizable",
    "ì˜¨ë„ í™˜ê²½": "Customizable",
    "ë°°í„°ë¦¬ ìš©ëŸ‰": "Customizable",
    "ì°¨ëŸ‰ í¬ê¸°": "Customizable"
  },
  "YAG10": {
    "ìµœëŒ€ í•˜ì¤‘/ì°¨ëŸ‰ ë¬´ê²Œ": "3000kg / 2500kg",
    "ì´ë™ ì†ë„/ë¦¬í”„íŒ… ë†’ì´": "0.2m/s / 800mm (Customizable)",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  48V 156AH / (Min.) 8h",
    "í¬ê¸°(mm)": "3080 x 1370 x 935 (Customizable)"
  },
  "CONVEYOR": {
    "ìµœëŒ€ í•˜ì¤‘/ì°¨ëŸ‰ ë¬´ê²Œ": "1500kg / 3500kg",
    "ì´ë™ ì†ë„/ë¦¬í”„íŒ… ë†’ì´": "0.2m/s / 1000mm (Customizable)",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë¦¬íŠ¬ì¸ì‚°ì²  48V 120AH / (Min.) 6h",
    "í¬ê¸°(mm)": "6400 x 1200 x 1175 (Customizable)"
  },
  "YAA10": {
    "ìµœëŒ€ í•˜ì¤‘/ì´ ë†’ì´": "1000kg / (í¬í¬ Min.) 1905mm",
    "ì´ë™ ì†ë„": "ë¬´ë¶€í•˜ 1.5m/s / ë§Œì¬ 1.0m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "24V 180AH / 6h",
    "ì°¨ëŸ‰ ë¬´ê²Œ/ë°°í„°ë¦¬ ë¬´ê²Œ": "980kg / 55kg"
  },
  "YAB10": {
    "ìµœëŒ€ í•˜ì¤‘/ì´ ë†’ì´": "1000kg / (í¬í¬ Min.) 1905mm",
    "ì´ë™ ì†ë„": "ë¬´ë¶€í•˜ 1.5m/s / ë§Œì¬ 1.0m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "24V 140AH / 6h",
    "ì°¨ëŸ‰ ë¬´ê²Œ/ë°°í„°ë¦¬ ë¬´ê²Œ": "680kg / 55kg"
  },
  "YAB16": {
    "ìµœëŒ€ í•˜ì¤‘/ì´ ë†’ì´": "1500kg / (í¬í¬ Min.) 1905mm",
    "ì´ë™ ì†ë„": "ë¬´ë¶€í•˜ 1.0m/s / ë§Œì¬ 0.8m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "24V 165AH / 6h",
    "ì°¨ëŸ‰ ë¬´ê²Œ/ë°°í„°ë¦¬ ë¬´ê²Œ": "700kg / 60kg"
  },
  "YAP10": {
    "ìµœëŒ€ í•˜ì¤‘/ì´ ë†’ì´": "1000kg / (í¬í¬ Min.) 1905mm",
    "ì´ë™ ì†ë„": "ë¬´ë¶€í•˜ 1.5m/s / ë§Œì¬ 1.0m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "24V 180AH / 6h",
    "ì°¨ëŸ‰ ë¬´ê²Œ/ë°°í„°ë¦¬ ë¬´ê²Œ": "980kg / 55kg"
  },
  "YAF30": {
    "ìµœëŒ€ í•˜ì¤‘/ì´ ë†’ì´": "1000kg / (í¬í¬ Min.) 1905mm",
    "ì´ë™ ì†ë„": "ë¬´ë¶€í•˜ 1.2m/s / ë§Œì¬ 0.8m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "24V 180AH / 6h",
    "ì°¨ëŸ‰ ë¬´ê²Œ/ë°°í„°ë¦¬ ë¬´ê²Œ": "980kg / 65kg"
  },
  "YAP30-10": {
    "ìµœëŒ€ í•˜ì¤‘/ì´ ë†’ì´": "3000kg / (í¬í¬ Min.) 2630mm",
    "ì´ë™ ì†ë„": "ë¬´ë¶€í•˜ 1.2m/s / ë§Œì¬ 0.9m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "48V 400AH / 6h",
    "ì°¨ëŸ‰ ë¬´ê²Œ/ë°°í„°ë¦¬ ë¬´ê²Œ": "360kg / 120kg"
  },
  "YAG30": {
    "ìµœëŒ€ í•˜ì¤‘/ì´ ë†’ì´": "5000kg (Customizable) / (í¬í¬ Min.) 1950mm",
    "ì´ë™ ì†ë„": "ë¬´ë¶€í•˜ 1.2m/s",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "24V 180AH / 6h",
    "ì°¨ëŸ‰ ë¬´ê²Œ/ë°°í„°ë¦¬ ë¬´ê²Œ": "699kg / 60kg"
  },
  "YAA35": {
    "ìµœëŒ€ í•˜ì¤‘/ì´ ë†’ì´": "ë³„ë„ ë¬¸ì˜",
    "ì´ë™ ì†ë„": "ë³„ë„ ë¬¸ì˜",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë³„ë„ ë¬¸ì˜",
    "ì°¨ëŸ‰ ë¬´ê²Œ/ë°°í„°ë¦¬ ë¬´ê²Œ": "ë³„ë„ ë¬¸ì˜"
  },
  "YAB35": {
    "ìµœëŒ€ í•˜ì¤‘/ì´ ë†’ì´": "ë³„ë„ ë¬¸ì˜",
    "ì´ë™ ì†ë„": "ë³„ë„ ë¬¸ì˜",
    "ë°°í„°ë¦¬/ìš´í–‰ ì‹œê°„": "ë³„ë„ ë¬¸ì˜",
    "ì°¨ëŸ‰ ë¬´ê²Œ/ë°°í„°ë¦¬ ë¬´ê²Œ": "ë³„ë„ ë¬¸ì˜"
  }
};

let selectedModel = null, charts = {};
const modelList = document.getElementById("modelList");
const tabs = document.querySelectorAll(".tab-btn");
const inputs = ["employees","hourlyCost","shiftHours","shiftsPerDay","daysPerWeek","weeksPerYear"].map(id=>document.getElementById(id));

function renderTabs(cat){ tabs.forEach(btn=>btn.classList.toggle("active", btn.dataset.cat===cat)); }
function updateModelList(cat){
  modelList.innerHTML="";
  models.filter(m=>m.category===cat).forEach(m=>{
    const div=document.createElement("div");
    div.className="model-card";
    div.innerHTML = `
      <img src="${m.image}" alt="${m.name}" class="w-20 h-14 object-contain"/>
      <p class="mt-2 text-sm font-medium text-center">${m.name}</p>
      <button class="mt-1 text-xs text-blue-600 hover:underline" onclick="showSpecs(event,'${m.name}')">ìì„¸íˆ ë³´ê¸°</button>`;
    div.onclick = () => { document.querySelectorAll(".model-card").forEach(c=>c.classList.remove("selected")); div.classList.add("selected"); selectedModel=m; calculateROI(); };
    modelList.appendChild(div);
  });
}

function showSpecs(ev,name){
  ev.stopPropagation();
  const data = specs[name];
  if(!data) return alert("ìŠ¤í™ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
  document.getElementById("specTitle").textContent=name;
  const table = document.getElementById("specTable");
  table.innerHTML = Object.entries(data).map(([k,v])=>`<tr><td class="font-medium py-1">${k}</td><td class="py-1">${v}</td></tr>`).join("");
  document.getElementById("specModal").classList.remove("hidden");
}

function closeModal(){ document.getElementById("specModal").classList.add("hidden"); }

function calculateROI(){
  if(!selectedModel) return;
  const [e,h,sh,sd,dw,wy] = inputs.map(i=>+i.value);
  const monthlyLabor = e*h*sh*sd*dw*4;
  const invest = selectedModel.cost;
  const labels = [...Array(24)].map((_,i)=>`${i+1}ê°œì›”`);
  const cumSave = labels.map((_,i)=>monthlyLabor*(i+1));
  const investArr = labels.map(()=>invest);

  const roi=(monthlyLabor*12/invest*100).toFixed(1), payback=Math.ceil(invest/monthlyLabor);
  document.getElementById("roiValue").textContent=`${roi}%`;
  document.getElementById("paybackPeriod").textContent=`${payback} ê°œì›”`;
  document.getElementById("totalSavings").textContent=`${(monthlyLabor*12).toLocaleString()} ì›`;

  if(charts.roiChart) charts.roiChart.destroy();
  charts.roiChart=new Chart(roiChart,{type:'line',data:{labels,datasets:[
    {label:"ëˆ„ì  ì ˆê°ì•¡",data:cumSave,borderColor:"#4caf50",fill:false},
    {label:"ë„ì… ë¹„ìš©",data:investArr,borderColor:"#f44336",borderDash:[5,5],fill:false}
  ]},options:{responsive:true,plugins:{zoom:{zoom:{wheel:{enabled:true},mode:'x'},pan:{enabled:true,mode:'x'}},legend:{position:'top'}},scales:{y:{ticks:{callback:v=>(v/10000)+'ë§Œì›'}}}});

  if(charts.savingsChart) charts.savingsChart.destroy();
  charts.savingsChart=new Chart(savingsChart,{type:'bar',data:{labels,datasets:[
    {label:"ì›”ë³„ ì ˆê°ì•¡",data:Array(24).fill(monthlyLabor),backgroundColor:"#2196f3"}
  ]},options:{responsive:true,plugins:{zoom:{zoom:{wheel:{enabled:true},mode:'x'},pan:{enabled:true,mode:'x'}}},scales:{y:{ticks:{callback:v=>(v/10000)+'ë§Œì›'}}}}});
}

tabs.forEach(btn=>btn.addEventListener("click",()=>{renderTabs(btn.dataset.cat); updateModelList(btn.dataset.cat);}));
inputs.forEach(i=>i.addEventListener("input",calculateROI));
document.getElementById("downloadPdf").addEventListener("click",()=>
  html2pdf().from(document.body).set({margin:0.2,filename:'roi-dashboard.pdf',html2canvas:{scale:2}}).save()
);
renderTabs("ì €ìƒí˜•");
updateModelList("ì €ìƒí˜•");
</script>

</body>
</html>
